import Link from 'next/link'
import { Rozha_One, Inter } from '@next/font/google'
import styles from '@/styles/Navbar.module.css'
import { formDataToQuery } from '@/helper/functions'
import { useEffect, useState } from 'react'

const inter = Inter({ subsets: ['latin'] })
const rohza = Rozha_One({
    weight: '400',
    subsets: ['latin'],
})
export default function Navbar() {
    const [listingsQuery, setListingsQuery] = useState('')

    useEffect(() => {
        if(sessionStorage.getItem('recentQuery')){
            setListingsQuery(formDataToQuery(JSON.parse(sessionStorage.getItem('recentQuery'))))
        }
    }, [])

    return (
        <nav id="navbar">
            <Link
                href={{
                    pathname: '/',
                }}
                style={rohza.style}
                className={styles.logo}
            >
                <svg
                    width="206"
                    height="34"
                    viewBox="0 0 206 34"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M24.056 33C24.056 32.264 23.848 31.656 23.432 31.176C23.016 30.664 22.472 30.408 21.8 30.408C21.16 30.408 20.488 30.68 19.784 31.224C19.112 31.768 18.312 32.328 17.384 32.904C16.488 33.448 15.4 33.72 14.12 33.72C9.768 33.72 6.392 32.6 3.992 30.36C1.624 28.12 0.44 24.68 0.44 20.04C0.44 10.344 4.968 5.496 14.024 5.496C15.656 5.496 17.32 5.896 19.016 6.696C20.744 7.496 21.8 7.896 22.184 7.896C22.568 7.896 22.888 7.704 23.144 7.32C23.4 6.904 23.528 6.504 23.528 6.12H24.44V15.864H23.48C23.48 13.432 22.52 11.256 20.6 9.336C18.712 7.416 16.52 6.456 14.024 6.456C12.104 6.456 10.648 7.496 9.656 9.576C8.664 11.624 8.168 15.032 8.168 19.8C8.168 24.536 8.664 27.88 9.656 29.832C10.68 31.784 12.168 32.76 14.12 32.76C17.192 32.76 18.728 30.024 18.728 24.552V21H15.704V20.04H27.224V21H24.968V33H24.056ZM36.6031 30.12C37.3071 31.72 38.5231 32.52 40.2511 32.52C41.9791 32.52 43.2111 31.704 43.9471 30.072C44.6831 28.44 45.0511 25.752 45.0511 22.008C45.0511 18.232 44.6831 15.528 43.9471 13.896C43.2111 12.232 41.9791 11.4 40.2511 11.4C38.5231 11.4 37.3071 12.232 36.6031 13.896C35.8991 15.528 35.5471 18.232 35.5471 22.008C35.5471 25.784 35.8991 28.488 36.6031 30.12ZM40.1551 33.48C37.1151 33.48 34.3631 32.488 31.8991 30.504C29.4351 28.52 28.2031 25.704 28.2031 22.056C28.2031 20.104 28.5551 18.36 29.2591 16.824C29.9951 15.288 30.9551 14.072 32.1391 13.176C33.3551 12.28 34.6511 11.608 36.0271 11.16C37.4031 10.68 38.8111 10.44 40.2511 10.44C41.6911 10.44 43.0991 10.68 44.4751 11.16C45.8831 11.608 47.1791 12.28 48.3631 13.176C49.5791 14.072 50.5551 15.288 51.2911 16.824C52.0271 18.36 52.3951 20.088 52.3951 22.008C52.3951 23.928 52.0271 25.64 51.2911 27.144C50.5551 28.648 49.5791 29.848 48.3631 30.744C45.9311 32.568 43.1951 33.48 40.1551 33.48ZM62.2569 30.12C62.9609 31.72 64.1769 32.52 65.9049 32.52C67.6329 32.52 68.8649 31.704 69.6009 30.072C70.3369 28.44 70.7049 25.752 70.7049 22.008C70.7049 18.232 70.3369 15.528 69.6009 13.896C68.8649 12.232 67.6329 11.4 65.9049 11.4C64.1769 11.4 62.9609 12.232 62.2569 13.896C61.5529 15.528 61.2009 18.232 61.2009 22.008C61.2009 25.784 61.5529 28.488 62.2569 30.12ZM65.8089 33.48C62.7689 33.48 60.0169 32.488 57.5529 30.504C55.0889 28.52 53.8569 25.704 53.8569 22.056C53.8569 20.104 54.2089 18.36 54.9129 16.824C55.6489 15.288 56.6089 14.072 57.7929 13.176C59.0089 12.28 60.3049 11.608 61.6809 11.16C63.0569 10.68 64.4649 10.44 65.9049 10.44C67.3449 10.44 68.7529 10.68 70.1289 11.16C71.5369 11.608 72.8329 12.28 74.0169 13.176C75.2329 14.072 76.2089 15.288 76.9449 16.824C77.6809 18.36 78.0489 20.088 78.0489 22.008C78.0489 23.928 77.6809 25.64 76.9449 27.144C76.2089 28.648 75.2329 29.848 74.0169 30.744C71.5849 32.568 68.8489 33.48 65.8089 33.48ZM89.0626 33.576C86.4706 33.576 84.2306 32.552 82.3426 30.504C80.4546 28.456 79.5106 25.56 79.5106 21.816C79.5106 18.072 80.4386 15.144 82.2946 13.032C84.1506 10.92 86.4066 9.864 89.0626 9.864C90.3746 9.864 91.6066 10.136 92.7586 10.68C93.9106 11.224 94.7426 12.04 95.2546 13.128V1.8H92.8546V0.839999H102.455V32.04H104.855V33H95.2546V30.792C94.3906 32.648 92.3266 33.576 89.0626 33.576ZM95.2546 22.488V14.568C94.3906 12.84 93.2546 11.976 91.8466 11.976C90.4706 11.976 89.2866 12.776 88.2946 14.376C87.3026 15.976 86.8066 18.52 86.8066 22.008C86.8066 25.464 87.3186 27.992 88.3426 29.592C89.3666 31.192 90.5986 31.88 92.0386 31.656C92.8386 31.528 93.4466 31.272 93.8626 30.888C94.7906 29.992 95.2546 27.192 95.2546 22.488ZM117.569 32.616C120.897 32.616 122.561 31.704 122.561 29.88C122.561 28.856 121.985 28.024 120.833 27.384C119.681 26.712 118.289 26.168 116.657 25.752C115.025 25.336 113.409 24.856 111.809 24.312C110.241 23.768 108.929 22.904 107.873 21.72C106.849 20.536 106.433 18.984 106.625 17.064C106.817 15.144 107.793 13.56 109.553 12.312C111.345 11.064 113.537 10.44 116.129 10.44C118.753 10.44 120.865 10.856 122.465 11.688C124.065 12.52 124.961 13.64 125.153 15.048C125.281 15.912 125.137 16.712 124.721 17.448C124.337 18.184 123.681 18.568 122.753 18.6C121.857 18.632 121.105 18.392 120.497 17.88C119.921 17.368 119.649 16.776 119.681 16.104C119.713 15.432 119.969 14.84 120.449 14.328C120.929 13.784 121.169 13.352 121.169 13.032C121.169 12.488 120.641 12.088 119.585 11.832C118.561 11.544 117.361 11.4 115.985 11.4C114.641 11.4 113.537 11.704 112.673 12.312C111.809 12.92 111.377 13.672 111.377 14.568C111.377 15.464 111.905 16.232 112.961 16.872C114.049 17.512 115.361 18.04 116.897 18.456C118.433 18.84 119.953 19.288 121.457 19.8C122.993 20.28 124.289 21.064 125.345 22.152C126.433 23.24 126.977 24.616 126.977 26.28C126.977 28.488 126.193 30.264 124.625 31.608C123.057 32.92 120.689 33.576 117.521 33.576C114.353 33.576 111.777 33.096 109.793 32.136C107.841 31.176 106.769 29.944 106.577 28.44C106.449 27.576 106.593 26.776 107.009 26.04C107.425 25.304 108.081 24.92 108.977 24.888C109.873 24.856 110.609 25.096 111.185 25.608C111.793 26.12 112.081 26.712 112.049 27.384C112.017 28.056 111.761 28.664 111.281 29.208C110.801 29.72 110.561 30.136 110.561 30.456C110.561 31.096 111.297 31.624 112.769 32.04C114.273 32.424 115.873 32.616 117.569 32.616ZM136.943 11.88V23.592C136.943 26.344 137.055 28.024 137.279 28.632C137.503 29.208 137.743 29.704 137.999 30.12C138.479 30.952 139.311 31.368 140.495 31.368C141.711 31.368 142.559 31.208 143.039 30.888V31.848C141.503 32.936 139.823 33.48 137.999 33.48C135.311 33.48 133.263 32.84 131.855 31.56C130.447 30.28 129.743 27.992 129.743 24.696V11.88H126.191V10.92H129.743C131.279 10.664 132.639 9.928 133.823 8.712C135.007 7.464 135.823 5.752 136.271 3.576H136.943V10.92H142.511V11.88H136.943ZM167.294 32.04C166.974 32.36 166.366 32.648 165.47 32.904C164.574 33.128 163.534 33.24 162.35 33.24C159.726 33.24 158.078 32.456 157.406 30.888C155.806 32.552 153.358 33.384 150.062 33.384C148.302 33.384 146.846 32.984 145.694 32.184C144.574 31.352 144.014 30.136 144.014 28.536C144.014 26.392 144.846 24.744 146.51 23.592C148.174 22.408 151.086 21.576 155.246 21.096L157.166 20.856V18.504C157.166 15.72 156.958 13.848 156.542 12.888C156.126 11.928 155.294 11.448 154.046 11.448C152.83 11.448 152.046 11.624 151.694 11.976C151.342 12.296 151.214 12.68 151.31 13.128C151.406 13.544 151.566 14.104 151.79 14.808C152.014 15.512 152.126 16.072 152.126 16.488C152.126 17.48 151.774 18.328 151.07 19.032C150.398 19.704 149.566 20.04 148.574 20.04C147.614 20.04 146.782 19.704 146.078 19.032C145.374 18.328 145.022 17.48 145.022 16.488C145.022 14.856 145.854 13.464 147.518 12.312C149.214 11.128 151.726 10.536 155.054 10.536C158.414 10.536 160.798 11.192 162.206 12.504C163.646 13.816 164.366 16.136 164.366 19.464V28.104C164.366 29.8 164.574 30.872 164.99 31.32C165.406 31.736 166.174 31.816 167.294 31.56V32.04ZM150.686 27.576C150.846 28.792 151.294 29.736 152.03 30.408C152.766 31.048 153.614 31.368 154.574 31.368C155.566 31.368 156.43 30.888 157.166 29.928V21.768L155.438 22.008C153.966 22.2 152.766 22.76 151.838 23.688C150.942 24.616 150.558 25.912 150.686 27.576ZM180.731 33H168.731V32.04H171.131V11.88H168.731V10.92H178.331V16.632C178.619 15.064 179.131 13.784 179.867 12.792C180.635 11.8 181.467 11.144 182.363 10.824C183.291 10.504 184.171 10.344 185.003 10.344C185.867 10.344 186.683 10.504 187.451 10.824C188.251 11.112 188.843 11.72 189.227 12.648C189.611 13.544 189.627 14.456 189.275 15.384C188.923 16.28 188.299 16.92 187.403 17.304C186.539 17.688 185.739 17.736 185.003 17.448C184.267 17.16 183.739 16.776 183.419 16.296C183.099 15.784 182.875 15.304 182.747 14.856C182.427 13.672 181.995 13.08 181.451 13.08C180.843 13.08 180.171 14.136 179.435 16.248C178.699 18.328 178.331 20.536 178.331 22.872V32.04H180.731V33ZM199.326 11.88V23.592C199.326 26.344 199.438 28.024 199.662 28.632C199.886 29.208 200.126 29.704 200.382 30.12C200.862 30.952 201.694 31.368 202.878 31.368C204.094 31.368 204.942 31.208 205.422 30.888V31.848C203.886 32.936 202.206 33.48 200.382 33.48C197.694 33.48 195.646 32.84 194.238 31.56C192.83 30.28 192.126 27.992 192.126 24.696V11.88H188.574V10.92H192.126C193.662 10.664 195.022 9.928 196.206 8.712C197.39 7.464 198.206 5.752 198.654 3.576H199.326V10.92H204.894V11.88H199.326Z"
                        fill="#CC3030"
                    />
                </svg>
            </Link>
            <div className="links" style={inter.style}>
                <Link
                    href={{
                        pathname: '/listings',
                        query: listingsQuery
                    }}
                >
                    Listings
                </Link>
                <Link href="/calculator">Calculator</Link>
            </div>
        </nav>
    )
}
